<html>
<head>
</head>
<body>

<div data-role="page" id="pocCleanPage">

    <div data-role="header">
        Clean Media Test Page
    </div> <!-- end of header div -->

    <div data-role="content">

        <a id="audioStartRecID" onclick="audioJsStartRecording()">
            <img src="img/record_btn_175.png"  >
        </a>

        <a data-mini="true"  data-role="button" id="audioStopRecID" onclick="audioJsStopRecording()">
            Stop
        </a>

        <div id="audioRecStatusID">
            <div>
                <p>Status:</p>
            </div>
        </div>
        <div  id="audioRecPos">
            <div>
                <p>Audio position: 0 sec</p>
                <p></p>
            </div>
        </div>

        <br>
        <br>
        <audio id="audioMediaAudioPlayCtl" controls>
            <source src="nosrc.wav" type="audio/wav">
        </audio>

        <br>

        <div id="jquery_jplayer_1" class="jp-jplayer"></div>

        <div id="jp_container_1" class="jp-audio">
            <div class="jp-type-single">
                <div class="jp-gui jp-interface">
                    <ul class="jp-controls">
                        <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
                        <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
                        <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
                        <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
                        <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
                        <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
                    </ul>
                    <div class="jp-progress">
                        <div class="jp-seek-bar">
                            <div class="jp-play-bar"></div>
                        </div>
                    </div>
                    <div class="jp-volume-bar">
                        <div class="jp-volume-bar-value"></div>
                    </div>
                    <div class="jp-time-holder">
                        <div class="jp-current-time"></div>
                        <div class="jp-duration"></div>

                        <ul class="jp-toggles">
                            <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
                            <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
                        </ul>
                    </div>
                </div>
                <div class="jp-title">
                    <ul>
                        <li>Wav</li>
                    </ul>
                </div>
                <div class="jp-no-solution">
                    <span>Update Required</span>
                    To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
                </div>
            </div>
        </div>


        <textarea id="audioJsDebugArea">
        </textarea>
    </div>

    <!--<link rel="stylesheet" type="text/css" href="sam/css/index_main.less.css" class="main-less">-->
    <!--<link rel="stylesheet" type="text/css" href="sam/css/master.css">-->

    <link href="css/jplayer.blue.monday.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" src="js/jquery.jplayer.min.js"></script>

    <script type="text/javascript" src="js/media-audio.js"></script>

    <script type="text/javascript">

        $('#pocCleanPage').bind('pageinit', function(event) {

            var msg = "pocCleanPage: pageinit(): start";
            console.log(msg);
            $('#audioJsDebugArea').val(msg + '\n');

            document.addEventListener("deviceready", onDeviceReadyCleanPage, false);

            msg = "pocCleanPage: pageinit(): create the JPlayer";
            console.log(msg);
            $('#audioJsDebugArea').val($('#audioJsDebugArea').val() + msg + '\n');

            //audioCreateJPlayer("G2MTestSound.wav");

            $("#jquery_jplayer_1").jPlayer({
                ready: function (event) {
                    $(this).jPlayer("setMedia", {
//                        m4a:"http://www.jplayer.org/audio/m4a/TSP-01-Cro_magnon_man.m4a",
//                        oga:"http://www.jplayer.org/audio/ogg/TSP-01-Cro_magnon_man.ogg"
                        wav: "G2MTestSound.wav"
                    });
                },
                swfPath: "js",
                //supplied: "m4a, oga",
                supplied: "wav",
                wmode: "window",
                smoothPlayBar: true,
                keyEnabled: true
            });

            msg = "pocCleanPage: pageinit(): end";
            console.log(msg);
            $('#audioJsDebugArea').val($('#audioJsDebugArea').val() + msg + '\n');
        });

        function onDeviceReadyCleanPage() {

            var msg = "pocCleanPage: onDeviceReady(): start";
            console.log(msg);

            $('#audioJsDebugArea').val(msg + '\n');

            //document.getElementById("PhonegapVerID").innerHTML += window.device.cordova;
            //console.log("onDeviceReady: " + document.getElementById("PhonegapVerID").innerHTML);
            msg = "pocCleanPage: onDeviceReady(): onDeviceReady: " + window.device.cordova;
            console.log(msg);
            $('#audioJsDebugArea').val($('#audioJsDebugArea').val() + msg + '\n');

            var devicePlatform = device.platform;
            msg = "pocCleanPage: onDeviceReady(): Platform: " +    devicePlatform;
            console.log(msg);
            $('#audioJsDebugArea').val($('#audioJsDebugArea').val() + msg + '\n');

            //console.log("*** phoneCheck.android: " + phoneCheck.android);
            //console.log("*** phoneCheck.ios: " + phoneCheck.ios);

            // set initial button state
            audioJsSetButtonState(myMediaState.start);

            // check if an existing media file already exist and reset button state
            //checkMediaRecFileExist();
        }

    </script>

</div> <!-- end of page div -->

</body>
</html>